<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modo Individual - Quiz Cristiano</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="Modo Individual de Quiz Cristiano - Pon a prueba tu conocimiento bíblico">
    <meta name="theme-color" content="#ffd700">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Quiz Cristiano">

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/icon-192.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    <link rel="manifest" href="manifest.json">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Cinzel:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/pages/single-player-new.css">

    <!-- ADSENSE -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6335862771432698"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <button class="back-btn" onclick="window.location.href='index.html'" title="Volver al inicio"
                aria-label="Volver al inicio">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="game-info">
                <h1 class="game-title">Quiz Cristiano</h1>
                <div class="phase-indicator" id="phase-indicator">
                    <span>Bienvenido</span>
                </div>
            </div>
            <div class="player-stats">
                <div class="coins-display">
                    <i class="fas fa-coins"></i>
                    <span id="user-coins">0</span>
                </div>
            </div>
        </header>

        <!-- Área Principal del Juego -->
        <main class="game-main">
            <!-- Pantalla de Bienvenida -->
            <div class="game-screen active" id="welcome-screen">
                <div class="welcome-content">
                    <div class="mascot-container">
                        <img src="assets/images/mascota.png" alt="Joy" class="mascot-image">
                        <div class="speech-bubble" id="speech-bubble">
                            <p class="speech-text">¡Hola! Soy Joy, tu guía en este viaje bíblico. ¿Listo para demostrar
                                tu conocimiento?</p>
                        </div>
                    </div>

                    <div class="welcome-header">
                        <h1 class="welcome-title">Quiz Cristiano</h1>
                        <p class="welcome-subtitle">Pon a prueba tu conocimiento bíblico</p>
                    </div>

                    <div class="welcome-info">
                        <div class="info-card">
                            <i class="fas fa-bible"></i>
                            <h3>4 Categorías</h3>
                            <p>Antiguo, Nuevo, Personajes y Doctrina</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-magic"></i>
                            <h3>Power-ups</h3>
                            <p>Usa herramientas para ayudarte</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-trophy"></i>
                            <h3>Progreso</h3>
                            <p>Gana monedas y sube de nivel</p>
                        </div>
                    </div>

                    <div class="welcome-actions">
                        <button class="start-game-btn" id="start-game-btn">
                            <i class="fas fa-play"></i>
                            <span>Comenzar Aventura</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Pantalla de Preguntas -->
            <div class="game-screen" id="question-screen">
                <div class="question-container">
                    <div class="timer-section" id="timer-section">
                        <div class="timer-info">
                            <div class="timer-circle" id="timer-circle">
                                <span class="timer-number" id="timer-number">20</span>
                            </div>
                            <div class="timer-text">
                                <div class="timer-phase" id="timer-phase">Pregunta</div>
                                <div class="timer-question" id="timer-question">1/3</div>
                            </div>
                        </div>

                        <div class="powerups-compact" id="powerups-section">
                            <button class="powerup-btn" id="eliminate-btn"
                                title="Eliminar 2 opciones incorrectas (50 monedas)">
                                <i class="fas fa-eraser"></i>
                            </button>
                            <button class="powerup-btn" id="time-btn" title="Añadir 15 segundos (50 monedas)">
                                <i class="fas fa-clock"></i>
                            </button>
                            <button class="powerup-btn" id="rescue-btn" title="Segunda oportunidad (50 monedas)">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>

                    <div class="question-content">
                        <div class="bible-reference" id="bible-reference" style="display: none;"></div>
                        <div class="question-text">Cargando pregunta...</div>

                        <div class="answers-container" id="answers-container">
                            <!-- Las respuestas se cargan dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pantalla de Categorías -->
            <div class="game-screen" id="categories-screen">
                <div class="categories-content">
                    <!-- Contenido se carga dinámicamente -->
                </div>
            </div>

            <!-- Pantalla de Victoria -->
            <div class="game-screen" id="victory-screen">
                <div class="victory-content">
                    <div class="joy-victory">
                        <img src="assets/images/joy-festejo.png" alt="Joy celebrando" class="joy-victory-image">
                    </div>
                    <div class="victory-message">
                        <h2 class="victory-title">¡VICTORIA TOTAL!</h2>
                        <p class="victory-subtitle">¡Has completado todas las categorías!</p>
                        <div class="victory-description">
                            <p>Eres un verdadero conocedor de la Biblia</p>
                        </div>
                    </div>
                    <div class="victory-actions">
                        <button class="victory-btn primary" onclick="window.location.reload()">
                            <i class="fas fa-redo"></i> Jugar de Nuevo
                        </button>
                        <button class="victory-btn secondary" onclick="window.location.href='index.html'">
                            <i class="fas fa-home"></i> Volver al Inicio
                        </button>
                    </div>
                </div>
            </div>

            <!-- Pantalla de Game Over -->
            <div class="game-screen" id="gameover-screen">
                <div class="gameover-content">
                    <div class="joy-consoling">
                        <img src="assets/images/joy-consolando.png" alt="Joy consolando" class="joy-gameover-image">
                    </div>
                    <div class="gameover-message">
                        <h2 class="gameover-title">Game Over</h2>
                        <p class="gameover-subtitle">¡No te desanimes!</p>
                        <div class="gameover-description">
                            <p>Cada intento te acerca más a la maestría bíblica</p>
                        </div>
                    </div>
                    <div class="gameover-actions">
                        <button class="gameover-btn primary" onclick="window.location.reload()">
                            <i class="fas fa-redo"></i> Intentar de Nuevo
                        </button>
                        <button class="gameover-btn secondary" onclick="window.location.href='index.html'">
                            <i class="fas fa-home"></i> Volver al Inicio
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="index.html" class="nav-item">
                <i class="fas fa-home"></i>
                <span>Inicio</span>
            </a>
            <a href="single-player-new.html" class="nav-item active">
                <i class="fas fa-play"></i>
                <span>Jugar</span>
            </a>
            <a href="ranking.html" class="nav-item">
                <i class="fas fa-trophy"></i>
                <span>Ranking</span>
            </a>
            <a href="logros.html" class="nav-item">
                <i class="fas fa-medal"></i>
                <span>Logros</span>
            </a>
            <a href="store.html" class="nav-item">
                <i class="fas fa-store"></i>
                <span>Tienda</span>
            </a>
        </nav>
    </div>

    <!-- Scripts -->
    <script type="module" src="src/main.js"></script>
    <script type="module">
        import game from './src/core/Game.js';

        document.addEventListener('DOMContentLoaded', () => {
            const startBtn = document.getElementById('start-game-btn');
            if (startBtn) {
                startBtn.addEventListener('click', () => {
                    game.startGame();
                });
            }
        });
    </script>
</body>

</html>